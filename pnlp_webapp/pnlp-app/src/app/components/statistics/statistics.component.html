<!-- Page Header -->
<section class="page-header">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h1>Statistiques du paludisme</h1>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Accueil</a></li>
            <li class="breadcrumb-item active" aria-current="page">Statistiques</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</section>

<!-- Key Indicators Section -->
<section class="indicators-section">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h2>Indicateurs clés</h2>
      <p>Principaux indicateurs de la lutte contre le paludisme au Sénégal en 2024</p>
    </div>
    <div class="row">
      @for (indicator of indicators; track indicator) {
        <div class="col-lg-3 col-md-6 mb-4">
          <div class="indicator-card">
            <h3 class="indicator-title">{{ indicator.title }}</h3>
            <div class="indicator-value">
              <span class="value">{{ indicator.value }}</span>
              <span class="unit">{{ indicator.unit }}</span>
            </div>
            <div class="indicator-change" [ngClass]="{'positive': indicator.trend === 'up', 'negative': indicator.trend === 'down'}">
              <i class="bi" [ngClass]="{'bi-arrow-up-circle-fill': indicator.trend === 'up', 'bi-arrow-down-circle-fill': indicator.trend === 'down'}"></i>
              {{ indicator.change }}
            </div>
            <p class="indicator-description">{{ indicator.description }}</p>
          </div>
        </div>
      }
    </div>
  </div>
</section>

<!-- Trend Charts Section -->
<section class="charts-section">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h2>Tendances nationales</h2>
      <p>Évolution des indicateurs clés du paludisme au Sénégal (2018-2024)</p>
    </div>
    <div class="row">
      <div class="col-12 mb-5">
        <div class="chart-card">
          <div class="chart-container">
            <canvas id="trendChart"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 mb-4">
        <div class="chart-card">
          <div class="chart-container">
            <canvas id="ageDistributionChart"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-6 mb-4">
        <div class="chart-card">
          <div class="chart-container">
            <canvas id="seasonalVariationChart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Regional Data Section -->
<section class="regional-section">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h2>Données régionales</h2>
      <p>Situation du paludisme par région au Sénégal en 2024</p>
    </div>
    <div class="row mb-4">
      <div class="col-12">
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead class="table-primary">
              <tr>
                <th>Région</th>
                <th>Incidence (pour 1000)</th>
                <th>Couverture en MILDA (%)</th>
                <th>Mortalité (pour 100 000)</th>
              </tr>
            </thead>
            <tbody>
              @for (region of regionalData; track region) {
                <tr>
                  <td>{{ region.region }}</td>
                  <td>
                    {{ region.incidence }}
                    <div class="progress" style="height: 5px;">
                      <div class="progress-bar bg-danger" [style.width.%]="(region.incidence / 40) * 100"></div>
                    </div>
                  </td>
                  <td>
                    {{ region.coverage }}%
                    <div class="progress" style="height: 5px;">
                      <div class="progress-bar bg-success" [style.width.%]="region.coverage"></div>
                    </div>
                  </td>
                  <td>
                    {{ region.mortality }}
                    <div class="progress" style="height: 5px;">
                      <div class="progress-bar bg-warning" [style.width.%]="(region.mortality / 2.5) * 100"></div>
                    </div>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-8 offset-md-2">
        <div class="map-card">
          <div class="map-container">
            <img src="assets/images/senegal-map.png" alt="Carte du Sénégal" class="img-fluid">
          </div>
          <div class="map-legend">
            <h5>Légende - Incidence du paludisme</h5>
            <div class="legend-items">
              <div class="legend-item">
                <span class="legend-color" style="background-color: #e3f2fd;"></span>
                <span class="legend-label">Très faible (&lt; 10 pour 1000)</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background-color: #90caf9;"></span>
                <span class="legend-label">Faible (10-20 pour 1000)</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background-color: #2196f3;"></span>
                <span class="legend-label">Modérée (20-30 pour 1000)</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background-color: #1565c0;"></span>
                <span class="legend-label">Élevée (&gt; 30 pour 1000)</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Methodology Section -->
<section class="methodology-section">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h2>Méthodologie</h2>
      <p>Sources et méthodes de collecte des données</p>
    </div>
    <div class="row">
      <div class="col-lg-8 offset-lg-2">
        <div class="methodology-card">
          <div class="methodology-content">
            <h4>Sources des données</h4>
            <p>Les données présentées sur cette page proviennent des sources suivantes :</p>
            <ul>
              <li>Système national d'information sanitaire (DHIS2)</li>
              <li>Enquête démographique et de santé (EDS)</li>
              <li>Enquête sur les indicateurs du paludisme (EIP)</li>
              <li>Rapports d'activités du PNLP</li>
            </ul>
            
            <h4 class="mt-4">Définition des indicateurs</h4>
            <ul>
              <li><strong>Incidence :</strong> Nombre de nouveaux cas de paludisme confirmés pour 1000 habitants à risque par an.</li>
              <li><strong>Mortalité :</strong> Nombre de décès attribués au paludisme pour 100 000 habitants par an.</li>
              <li><strong>Couverture en MILDA :</strong> Pourcentage de la population ayant accès à une moustiquaire imprégnée d'insecticide à longue durée d'action.</li>
              <li><strong>TPI :</strong> Traitement préventif intermittent pendant la grossesse. Pourcentage de femmes enceintes ayant reçu au moins 3 doses de sulfadoxine-pyriméthamine.</li>
            </ul>
            
            <h4 class="mt-4">Limites des données</h4>
            <p>Les données présentées peuvent comporter certaines limites :</p>
            <ul>
              <li>Sous-notification des cas dans certaines zones difficiles d'accès</li>
              <li>Retards dans la transmission des données</li>
              <li>Variations dans la qualité des données selon les régions</li>
            </ul>
            
            <div class="mt-4 text-center">
              <a href="#" class="btn btn-primary">Télécharger les données complètes (Excel)</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
